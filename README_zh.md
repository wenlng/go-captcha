<div align="center">
<img width="120" style="padding-top: 50px; margin: 0;" src="https://github.com/wenlng/git-assets/blob/master/go-captcha/gocaptcha_logo.svg?raw=true"/>
<h1 style="margin: 0; padding: 0">GoCaptcha</h1>
<p>Golang è¡Œä¸ºéªŒè¯ç </p>
<a href="https://goreportcard.com/report/github.com/wenlng/go-captcha"><img src="https://goreportcard.com/badge/github.com/wenlng/go-captcha"/></a>
<a href="https://godoc.org/github.com/wenlng/go-captcha"><img src="https://godoc.org/github.com/wenlng/go-captcha?status.svg"/></a>
<a href="https://github.com/wenlng/go-captcha/releases"><img src="https://img.shields.io/github/v/release/wenlng/go-captcha.svg"/></a>
<a href="https://github.com/wenlng/go-captcha/blob/v2/LICENSE"><img src="https://img.shields.io/badge/License-Apache2.0-green.svg"/></a>
<a href="https://github.com/wenlng/go-captcha"><img src="https://img.shields.io/github/stars/wenlng/go-captcha.svg"/></a>
<a href="https://github.com/wenlng/go-captcha"><img src="https://img.shields.io/github/last-commit/wenlng/go-captcha.svg"/></a>
</div>

<br/>

> [English](README.md) | ä¸­æ–‡ 
<p style="text-align: center">
<a style="font-weight: bold" href="https://github.com/wenlng/go-captcha">Go Captcha</a> æ˜¯åŠŸèƒ½å¼ºå¤§ã€æ¨¡å—åŒ–ä¸”é«˜åº¦å¯å®šåˆ¶çš„è¡Œä¸ºå¼éªŒè¯ç åº“ï¼Œæ”¯æŒå¤šç§äº¤äº’å¼éªŒè¯ç ç±»å‹ï¼šç‚¹é€‰ï¼ˆClickï¼‰ã€æ»‘åŠ¨ï¼ˆSlideï¼‰ã€æ‹–æ‹½ï¼ˆDrag-Dropï¼‰ å’Œ æ—‹è½¬ï¼ˆRotateï¼‰ã€‚
</p>

<p style="text-align: center"> â­ï¸ å¦‚æœèƒ½å¸®åŠ©åˆ°ä½ ï¼Œè¯·éšæ‰‹ç»™ç‚¹ä¸€ä¸ªstar</p>
<p style="text-align: center">QQäº¤æµç¾¤ï¼š178498936</p>

<br/>

<div align="center">
<img src="https://github.com/wenlng/git-assets/blob/master/go-captcha/go-captcha-v2.jpg?raw=true" alt="Poster">
</div>

<br/>
<hr/>
<br/>

## é¡¹ç›®ç”Ÿæ€

| åç§°                                                                         | æè¿°                                                                                          |
|----------------------------------------------------------------------------|---------------------------------------------------------------------------------------------|
| [document](http://gocaptcha.wencodes.com)                                  | GoCaptcha æ–‡æ¡£                                                                                |
| [online demo](http://gocaptcha.wencodes.com/demo/)                         | GoCaptcha åœ¨çº¿æ¼”ç¤º                                                                              |
| [go-captcha-example](https://github.com/wenlng/go-captcha-example)         | Golang + å‰ç«¯ + APPå®ä¾‹                                                                         |
| [go-captcha-assets](https://github.com/wenlng/go-captcha-assets)           | Golang å†…åµŒç´ æèµ„æº                                                                               |
| [go-captcha](https://github.com/wenlng/go-captcha)                         | Golang éªŒè¯ç                                                                                   |
| [go-captcha-jslib](https://github.com/wenlng/go-captcha-jslib)             | Javascript éªŒè¯ç                                                                               |
| [go-captcha-vue](https://github.com/wenlng/go-captcha-vue)                 | Vue éªŒè¯ç                                                                                      |
| [go-captcha-react](https://github.com/wenlng/go-captcha-react)             | React éªŒè¯ç                                                                                    |
| [go-captcha-angular](https://github.com/wenlng/go-captcha-angular)         | Angular éªŒè¯ç                                                                                  |
| [go-captcha-svelte](https://github.com/wenlng/go-captcha-svelte)           | Svelte éªŒè¯ç                                                                                   |
| [go-captcha-solid](https://github.com/wenlng/go-captcha-solid)             | Solid éªŒè¯ç                                                                                    |
| [go-captcha-uni](https://github.com/wenlng/go-captcha-uni)                 | UniApp éªŒè¯ç ï¼Œå…¼å®¹ Appã€å°ç¨‹åºã€å¿«åº”ç”¨ç­‰                                                                  |
| [go-captcha-service](https://github.com/wenlng/go-captcha-service)         | GoCaptcha æœåŠ¡ï¼Œæ”¯æŒäºŒè¿›åˆ¶ã€Dockeré•œåƒç­‰æ–¹å¼éƒ¨ç½²ï¼Œ<br/> æä¾› HTTP/GRPC æ–¹å¼è®¿é—®æ¥å£ï¼Œ<br/>å¯ç”¨å•æœºæ¨¡å¼å’Œåˆ†å¸ƒå¼ï¼ˆæœåŠ¡å‘ç°ã€è´Ÿè½½å‡è¡¡ã€åŠ¨æ€é…ç½®ç­‰ï¼‰ |
| [go-captcha-service-sdk](https://github.com/wenlng/go-captcha-service-sdk) | GoCaptcha æœåŠ¡SDKå·¥å…·åŒ…ï¼ŒåŒ…å« HTTP/GRPC è¯·æ±‚æœåŠ¡æ¥å£ï¼Œ<br/>æ”¯æŒé™æ€æ¨¡å¼ã€æœåŠ¡å‘ç°ã€è´Ÿè½½å‡è¡¡                                |
| ...                                                                        |                                                                                             |

<br/>

## æ ¸å¿ƒç‰¹æ€§

- **å¤šæ ·åŒ–éªŒè¯ç ç±»å‹**ï¼šæ”¯æŒç‚¹é€‰ã€æ»‘åŠ¨ã€æ—‹è½¬å’Œæ‹–æ‹½å››ç§è¡Œä¸ºå¼éªŒè¯ç ï¼Œé€‚åº”ä¸åŒäº¤äº’åœºæ™¯ã€‚
- **é«˜åº¦å¯å®šåˆ¶åŒ–**ï¼šé€šè¿‡é€‰é¡¹ï¼ˆ`Options`ï¼‰å’Œèµ„æºï¼ˆ`Resources`ï¼‰æ”¯æŒå›¾åƒã€å­—ä½“ã€é¢œè‰²ã€è§’åº¦ã€å¤§å°ç­‰çµæ´»é…ç½®ã€‚
- **é«˜çº§å›¾åƒå¤„ç†**ï¼šå†…ç½®åŠ¨æ€å›¾åƒç”Ÿæˆå’Œå¤„ç†åŠŸèƒ½ï¼Œæ”¯æŒä¸»å›¾åƒã€ç¼©ç•¥å›¾ã€æ‹¼å›¾å—å’Œé˜´å½±æ•ˆæœçš„ç”Ÿæˆã€‚
- **æ¨¡å—åŒ–æ¶æ„**ï¼šä»£ç ç»“æ„æ¸…æ™°ï¼Œéµå¾ª Go è¯­è¨€æœ€ä½³å®è·µï¼Œæ˜“äºæ‰©å±•å’Œç»´æŠ¤ã€‚
- **é«˜æ€§èƒ½è®¾è®¡**ï¼šä¼˜åŒ–èµ„æºç®¡ç†å’Œå›¾åƒç”Ÿæˆï¼Œé€‚åˆé«˜å¹¶å‘åœºæ™¯ã€‚
- **è·¨å¹³å°å…¼å®¹**ï¼šç”Ÿæˆçš„éªŒè¯ç å›¾åƒå¯æ— ç¼é›†æˆåˆ° Web åº”ç”¨ã€ç§»åŠ¨åº”ç”¨æˆ–å…¶ä»–éœ€è¦éªŒè¯ç çš„ç³»ç»Ÿã€‚

<br/>

## éªŒè¯ç ç±»å‹

`go-captcha` æ”¯æŒä»¥ä¸‹å››ç§éªŒè¯ç ç±»å‹ï¼Œæ¯ç§ç±»å‹å…·æœ‰ç‹¬ç‰¹çš„äº¤äº’æ–¹å¼ã€ç”Ÿæˆé€»è¾‘å’Œåº”ç”¨åœºæ™¯ï¼š
1. **ç‚¹é€‰éªŒè¯ç ï¼ˆClickï¼‰**ï¼šç”¨æˆ·åœ¨ä¸»å›¾åƒä¸­ç‚¹å‡»æŒ‡å®šçš„ç‚¹æˆ–å­—ç¬¦ï¼Œæ”¯æŒæ–‡æœ¬æ¨¡å¼å’Œå›¾å½¢æ¨¡å¼ã€‚
2. **æ»‘åŠ¨éªŒè¯ç ï¼ˆSlideï¼‰**ï¼šç”¨æˆ·å°†æ‹¼å›¾å—æ»‘åŠ¨åˆ°ä¸»å›¾åƒä¸­çš„æ­£ç¡®ä½ç½®ï¼Œæ”¯æŒåŸºæœ¬æ¨¡å¼å’Œæ‹–æ‹½æ¨¡å¼ã€‚
3. **æ‹–æ‹½éªŒè¯ç ï¼ˆDragDropï¼‰**ï¼šæ»‘åŠ¨éªŒè¯ç çš„å˜ä½“ï¼Œå…è®¸ç”¨æˆ·åœ¨æ›´å¤§èŒƒå›´å†…æ‹–åŠ¨æ‹¼å›¾å—åˆ°ç›®æ ‡ä½ç½®ã€‚
4. **æ—‹è½¬éªŒè¯ç ï¼ˆRotateï¼‰**ï¼šç”¨æˆ·æ—‹è½¬ç¼©ç•¥å›¾ä½¿å…¶ä¸ä¸»å›¾åƒçš„è§’åº¦å¯¹é½ã€‚

<br/>

## è®¾ç½®Goä»£ç†
- Window
```shell
$ set GO111MODULE=on
$ set GOPROXY=https://goproxy.io,direct

### The Golang 1.13+ can be executed directly
$ go env -w GO111MODULE=on
$ go env -w GOPROXY=https://goproxy.io,direct
```
- Linux or Mac
```shell
$ export GO111MODULE=on
$ export GOPROXY=https://goproxy.io,direct

### or
$ echo "export GO111MODULE=on" >> ~/.profile
$ echo "export GOPROXY=https://goproxy.cn,direct" >> ~/.profile
$ source ~/.profile
```

## å®‰è£…
```shell
$ go get -u github.com/wenlng/go-captcha/v2@latest
```

## æŒ‰éœ€å¼•å…¥æ¨¡å—
```go
package main

// æŒ‰éœ€æ±‚å¼•å…¥å¯¹åº”çš„æ¨¡å—
import "github.com/wenlng/go-captcha/v2/${click|slide|rotate}"

func main(){
   // ....
}
```

<br />

## ğŸ–– ç‚¹é€‰éªŒè¯ç ï¼ˆClickï¼‰

ç‚¹é€‰éªŒè¯ç è¦æ±‚ç”¨æˆ·åœ¨ä¸»å›¾åƒä¸­ç‚¹å‡»æŒ‡å®šçš„ç‚¹æˆ–å­—ç¬¦ï¼Œé€‚åˆéœ€è¦å¿«é€ŸéªŒè¯çš„åœºæ™¯ã€‚æ”¯æŒä¸¤ç§æ¨¡å¼ï¼š

- **æ–‡æœ¬æ¨¡å¼**ï¼šæ˜¾ç¤ºå­—ç¬¦ï¼ˆå¦‚å­—æ¯ã€æ•°å­—æˆ–ä¸­æ–‡ï¼‰ï¼Œç”¨æˆ·ç‚¹å‡»å¯¹åº”å­—ç¬¦ã€‚
- **å›¾å½¢æ¨¡å¼**ï¼šæ˜¾ç¤ºå›¾å½¢ï¼ˆå¦‚å›¾æ ‡æˆ–å½¢çŠ¶ï¼‰ï¼Œç”¨æˆ·ç‚¹å‡»å¯¹åº”å›¾å½¢ã€‚

### å·¥ä½œåŸç†

1. **ç”Ÿæˆä¸»å›¾åƒ**ï¼ˆ`masterImage`ï¼‰ï¼šåŒ…å«éšæœºåˆ†å¸ƒçš„ç‚¹æˆ–å­—ç¬¦ï¼Œé€šå¸¸ä¸º JPEG æ ¼å¼ã€‚
2. **ç”Ÿæˆç¼©ç•¥å›¾**ï¼ˆ`thumbImage`ï¼‰ï¼šæ˜¾ç¤ºéœ€è¦ç‚¹å‡»çš„ç›®æ ‡ç‚¹æˆ–å­—ç¬¦ï¼Œé€šå¸¸ä¸º PNG æ ¼å¼ã€‚
3. **ç”¨æˆ·äº¤äº’**ï¼šç”¨æˆ·ç‚¹å‡»ä¸»å›¾åƒä¸­çš„åæ ‡ï¼Œå‰ç«¯æ•è·åæ ‡å¹¶å‘é€åˆ°åç«¯ã€‚
4. **éªŒè¯é€»è¾‘**ï¼šåç«¯æ¯”è¾ƒç”¨æˆ·ç‚¹å‡»çš„åæ ‡ä¸ç›®æ ‡ç‚¹ï¼ˆ`dots`ï¼‰çš„åæ ‡æ˜¯å¦åŒ¹é…ã€‚

### ä»£ç ç¤ºä¾‹
```go
package main

import (
	"encoding/json"
	"fmt"
	"image"
	"log"
	"io/ioutil"

	"github.com/golang/freetype"
	"github.com/golang/freetype/truetype"
	"github.com/wenlng/go-captcha/v2/base/option"
	"github.com/wenlng/go-captcha/v2/click"
	"github.com/wenlng/go-captcha/v2/base/codec"
)

var textCapt click.Captcha

func init() {
	builder := click.NewBuilder(
		click.WithRangeLen(option.RangeVal{Min: 4, Max: 6}),
		click.WithRangeVerifyLen(option.RangeVal{Min: 2, Max: 4}),
        // ...
	)

	// å¯ä»¥ä½¿ç”¨é¢„ç½®çš„ç´ æèµ„æºï¼šhttps://github.com/wenlng/go-captcha-assets
	fontN, err := loadFont("../resources/fzshengsksjw_cu.ttf")
	if err != nil {
		log.Fatalln(err)
	}

	bgImage, err := loadPng("../resources/bg.png")
	if err != nil {
		log.Fatalln(err)
	}

	builder.SetResources(
		click.WithChars([]string{"è¿™", "æ˜¯", "éš", "æœº", "çš„", "æ–‡", "æœ¬", "ç§", "å­", "å‘€"}),
		click.WithFonts([]*truetype.Font{
			fontN,
		}),
		click.WithBackgrounds([]image.Image{
			bgImage,
		}),
	)

	textCapt = builder.Make()
}

func loadPng(p string) (image.Image, error) {
	imgBytes, err := ioutil.ReadFile(p)
	if err != nil {
		return nil, err
	}
	return codec.DecodeByteToPng(imgBytes)
}

func loadFont(p string) (*truetype.Font, error) {
	fontBytes, err := ioutil.ReadFile(p)
	if err != nil {
		panic(err)
	}
	return freetype.ParseFont(fontBytes)
}


func main() {
	captData, err := textCapt.Generate()
	if err != nil {
		log.Fatalln(err)
	}

	dotData := captData.GetData()
	if dotData == nil {
		log.Fatalln(">>>>> generate err")
	}

	dots, _ := json.Marshal(dotData)
	fmt.Println(">>>>> ", string(dots))

	var mBase64, tBase64 string
	mBase64, err = captData.GetMasterImage().ToBase64()
	if err != nil {
		fmt.Println(err)
	}
	tBase64, err = captData.GetThumbImage().ToBase64()
	if err != nil {
		fmt.Println(err)
	}

	fmt.Println(">>>>> ", mBase64)
	fmt.Println(">>>>> ", tBase64)
	
	//err = captData.GetMasterImage().SaveToFile("../resources/master.jpg", option.QualityNone)
	//if err != nil {
	//	fmt.Println(err)
	//}
	//err = captData.GetThumbImage().SaveToFile("../resources/thumb.png")
	//if err != nil {
	//	fmt.Println(err)
	//}
}
```

### åˆ›å»ºå®ä¾‹
- builder.Make()  ä¸­æ–‡æ–‡æœ¬ã€å­—æ¯æ•°å­—æ··åˆç‚¹é€‰
- builder.MakeShape()  å›¾å½¢ç‚¹é€‰

### é…ç½®é€‰é¡¹
> click.NewBuilder(click.WithXxx(), ...) æˆ– builder.SetOptions(click.WithXxx(), ...)

| Options                                    | Desc                                                  |
|--------------------------------------------|-------------------------------------------------------|
| ä¸»å›¾                                         |
| click.WithImageSize(option.Size)           | è®¾ç½®ä¸»å›¾å°ºå¯¸ï¼Œé»˜è®¤ 300x220                                     |
| click.WithRangeLen(option.RangeVal)        | è®¾ç½®éšæœºå†…å®¹é•¿åº¦èŒƒå›´                                            |
| click.WithRangeAnglePos([]option.RangeVal) | è®¾ç½®éšæœºè§’åº¦èŒƒå›´                                              |
| click.WithRangeSize(option.RangeVal)       | è®¾ç½®éšæœºå†…å®¹å¤§å°èŒƒå›´                                            |
| click.WithRangeColors([]string)            | è®¾ç½®éšæœºé¢œè‰²                                                |
| click.WithDisplayShadow(bool)              | è®¾ç½®æ˜¯å¦æ˜¾ç¤ºé˜´å½±                                              |
| click.WithShadowColor(string)              | è®¾ç½®é˜´å½±é¢œè‰²                                                |
| click.WithShadowPoint(option.Point)        | è®¾ç½®é˜´å½±åç§»ä½ç½®                                              |
| click.WithImageAlpha(float32)              | è®¾ç½®ä¸»å›¾é€æ˜åº¦                                               |
| click.WithUseShapeOriginalColor(bool)      | è®¾ç½®æ˜¯å¦ä½¿ç”¨å›¾å½¢åŸå§‹é¢œè‰²ï¼Œ"å›¾å½¢ç‚¹é€‰"æœ‰æ•ˆ                                 |
| ç¼©ç•¥å›¾                                        |
| click.WithThumbImageSize(option.Size)      | è®¾ç½®ç¼©ç•¥å°ºå¯¸ï¼Œé»˜è®¤ 150x40                                      |
| click.WithRangeVerifyLen(option.RangeVal)  | è®¾ç½®æ ¡éªŒå†…å®¹çš„éšæœºé•¿åº¦èŒƒå›´                                         |
| click.WithDisabledRangeVerifyLen(bool)     | ç¦ç”¨æ ¡éªŒå†…å®¹çš„éšæœºé•¿åº¦ï¼Œä¸ä¸»å›¾å†…å®¹çš„é•¿åº¦ä¿æŒä¸€è‡´                              |
| click.WithRangeThumbSize(option.RangeVal)  | è®¾ç½®éšæœºç¼©ç•¥å†…å®¹éšæœºå¤§å°èŒƒå›´                                        |
| click.WithRangeThumbColors([]string)       | è®¾ç½®ç¼©ç•¥éšæœºé¢œè‰²èŒƒå›´                                            |
| click.WithRangeThumbBgColors([]string)     | è®¾ç½®ç¼©ç•¥éšæœºèƒŒæ™¯é¢œè‰²èŒƒå›´                                          |
| click.WithIsThumbNonDeformAbility(bool)    | è®¾ç½®ç¼©ç•¥å›¾å†…å®¹ä¸å˜å½¢ï¼Œä¸å—èƒŒæ™¯å½±å“                                     |
| click.WithThumbBgDistort(int)              | è®¾ç½®ç¼©ç•¥å›¾èƒŒæ™¯æ‰­æ›² option.DistortLevel1 è‡³ option.DistortLevel5 |
| click.WithThumbBgCirclesNum(int)           | è®¾ç½®ç¼©ç•¥å›¾ç»˜åˆ¶å°åœ†ç‚¹æ•°é‡                                          |
| click.WithThumbBgSlimLineNum(int)          | è®¾ç½®ç¼©ç•¥å›¾ç»˜åˆ¶çº¿æ¡æ•°é‡                                           |


### è®¾ç½®èµ„æº
> builder.SetResources(click.WithXxx(), ...)

| Options                                   | Desc      |
|-------------------------------------------|-----------|
| click.WithChars([]string)                 | è®¾ç½®æ–‡æœ¬ç§å­    |
| click.WithShapes(map[string]image.Image)  | è®¾ç½®å›¾å½¢ç§å­    |
| click.WithFonts([]*truetype.Font)         | è®¾ç½®å­—ä½“      |
| click.WithBackgrounds([]image.Image)      | è®¾ç½®ä¸»å›¾èƒŒæ™¯    |
| click.WithThumbBackgrounds([]image.Image) | è®¾ç½®ç¼©ç•¥å›¾èƒŒæ™¯   |


### éªŒè¯ç æ•°æ®
> captData, err := capt.Generate()

| Method                                   | Desc      |
|------------------------------------------|-----------|
| GetData() map[int]*Dot                   | è·å–å½“å‰æ ¡éªŒçš„ä¿¡æ¯ |
| GetMasterImage() imagedata.JPEGImageData | è·å–ä¸»å›¾      |
| GetThumbImage() imagedata.PNGImageData   | è·å–ç¼©ç•¥å›¾     |

### éªŒè¯ç æ ¡éªŒ
> ok := click.CheckData(srcX, srcY, X, Y, width, height, paddingValue)

| Params       | Desc               |
|--------------|--------------------|
| srcX         | ç”¨æˆ·äº¤äº’çš„ X å€¼          |
| srcY         | ç”¨æˆ·äº¤äº’çš„ Y å€¼          |
| X            | éªŒè¯ç æ ¡éªŒçš„ X å€¼         |
| Y            | éªŒè¯ç æ ¡éªŒçš„ Y å€¼         |
| width        | éªŒè¯ç æ ¡éªŒçš„ Width å€¼     |
| height       | éªŒè¯ç æ ¡éªŒçš„ Height å€¼    |
| paddingValue | æ§åˆ¶è¯¯å·®å€¼              |

<br/>

### æ³¨æ„äº‹é¡¹

- å­—ç¬¦é›†ï¼ˆ`chars`ï¼‰æˆ–å›¾å½¢é›†ï¼ˆ`shapes`ï¼‰çš„é•¿åº¦å¿…é¡»å¤§äº `rangeLen.Max`ï¼Œå¦åˆ™ä¼šè§¦å‘ `CharRangeLenErr` æˆ– `ShapesRangeLenErr`ã€‚
- å›¾å½¢æ¨¡å¼éœ€è¦æä¾›æœ‰æ•ˆçš„å›¾åƒèµ„æºï¼ˆ`shapeMaps`ï¼‰ï¼Œå¦åˆ™ä¼šè§¦å‘ `ShapesTypeErr`ã€‚
- èƒŒæ™¯å›¾åƒä¸èƒ½ä¸ºç©ºï¼Œå¦åˆ™ä¼šè§¦å‘ `EmptyBackgroundImageErr`ã€‚

<br />

## ğŸ–– æ»‘åŠ¨éªŒè¯ç ï¼ˆSlideï¼‰

æ»‘åŠ¨éªŒè¯ç è¦æ±‚ç”¨æˆ·å°†æ‹¼å›¾å—æ»‘åŠ¨åˆ°ä¸»å›¾åƒä¸­çš„æ­£ç¡®ä½ç½®ï¼Œæ”¯æŒä¸¤ç§æ¨¡å¼ï¼š

- **åŸºæœ¬æ¨¡å¼**ï¼šæ‹¼å›¾å—æ²¿å›ºå®š Y è½´æ»‘åŠ¨ï¼Œé€‚åˆç®€å•éªŒè¯åœºæ™¯ã€‚
- **æ‹–æ‹½æ¨¡å¼**ï¼šæ‹¼å›¾å—å¯ä»¥åœ¨æ›´å¤§èŒƒå›´å†…è‡ªç”±æ‹–åŠ¨ï¼Œé€‚åˆéœ€è¦æ›´é«˜äº¤äº’è‡ªç”±åº¦çš„åœºæ™¯ã€‚

### å·¥ä½œåŸç†

1. **ç”Ÿæˆä¸»å›¾åƒ**ï¼ˆ`masterImage`ï¼‰ï¼šåŒ…å«æ‹¼å›¾å—çš„ç¼ºå£å’Œé˜´å½±æ•ˆæœï¼Œé€šå¸¸ä¸º JPEG æ ¼å¼ã€‚
2. **ç”Ÿæˆæ‹¼å›¾å›¾åƒ**ï¼ˆ`tileImage`ï¼‰ï¼šç”¨æˆ·éœ€è¦æ»‘åŠ¨çš„æ‹¼å›¾å—ï¼Œé€šå¸¸ä¸º PNG æ ¼å¼ã€‚
3. **ç”¨æˆ·äº¤äº’**ï¼šç”¨æˆ·æ»‘åŠ¨æ‹¼å›¾å—åˆ°ç›®æ ‡ä½ç½®ï¼ˆ`TileX`, `TileY`ï¼‰ï¼Œå‰ç«¯æ•è·æ»‘åŠ¨ç»ˆç‚¹åæ ‡ã€‚
4. **éªŒè¯é€»è¾‘**ï¼šåç«¯æ¯”è¾ƒç”¨æˆ·æ»‘åŠ¨çš„ä½ç½®ä¸ç›®æ ‡ä½ç½®æ˜¯å¦åŒ¹é…ã€‚

### ä»£ç ç¤ºä¾‹
```go
package main

import (
	"encoding/json"
	"fmt"
	"image"
	"log"
	"io/ioutil"

	"github.com/wenlng/go-captcha/v2/base/option"
	"github.com/wenlng/go-captcha/v2/slide"
	"github.com/wenlng/go-captcha/v2/base/codec"
)

var slideTileCapt slide.Captcha

func init() {
	builder := slide.NewBuilder()

	// å¯ä»¥ä½¿ç”¨é¢„ç½®çš„ç´ æèµ„æºï¼šhttps://github.com/wenlng/go-captcha-assets
	bgImage, err := loadPng("../resources/bg.png")
	if err != nil {
		log.Fatalln(err)
	}

	bgImage1, err := loadPng("../resources/bg1.png")
	if err != nil {
		log.Fatalln(err)
	}

	graphs := getSlideTileGraphArr()

	builder.SetResources(
		slide.WithGraphImages(graphs),
		slide.WithBackgrounds([]image.Image{
			bgImage,
			bgImage1,
		}),
	)

	slideTileCapt = builder.Make()
}

func getSlideTileGraphArr() []*slide.GraphImage {
	tileImage1, err := loadPng("../resources/tile-1.png")
	if err != nil {
		log.Fatalln(err)
	}

	tileShadowImage1, err := loadPng("../resources/tile-shadow-1.png")
	if err != nil {
		log.Fatalln(err)
	}
	tileMaskImage1, err := loadPng("../resources/tile-mask-1.png")
	if err != nil {
		log.Fatalln(err)
	}

	return []*slide.GraphImage{
		{
			OverlayImage: tileImage1,
			ShadowImage:  tileShadowImage1,
			MaskImage:    tileMaskImage1,
		},
	}
}

func main() {
	captData, err := slideTileCapt.Generate()
	if err != nil {
		log.Fatalln(err)
	}

	blockData := captData.GetData()
	if blockData == nil {
		log.Fatalln(">>>>> generate err")
	}

	block, _ := json.Marshal(blockData)
	fmt.Println(">>>>>", string(block))

	var mBase64, tBase64 string
	mBase64, err = captData.GetMasterImage().ToBase64()
	if err != nil {
		fmt.Println(err)
	}
	tBase64, err = captData.GetTileImage().ToBase64()
	if err != nil {
		fmt.Println(err)
	}

	fmt.Println(">>>>> ", mBase64)
	fmt.Println(">>>>> ", tBase64)
	
	//err = captData.GetMasterImage().SaveToFile("../resources/master.jpg", option.QualityNone)
	//if err != nil {
	//	fmt.Println(err)
	//}
	//err = captData.GetTileImage().SaveToFile("../resources/thumb.png")
	//if err != nil {
	//	fmt.Println(err)
	//}
}

func loadPng(p string) (image.Image, error) {
	imgBytes, err := ioutil.ReadFile(p)
	if err != nil {
		return nil, err
	}
	return codec.DecodeByteToPng(imgBytes)
}
```


### åˆ›å»ºå®ä¾‹
- builder.Make() æ»‘åŠ¨å¼
- builder.MakeDragDrop()  åŒºåŸŸå†…æ‹–æ‹½å¼


### é…ç½®é€‰é¡¹
> slide.NewBuilder(slide.WithXxx(), ...) æˆ– builder.SetOptions(slide.WithXxx(), ...)

| Options                                                        | Desc              |
|----------------------------------------------------------------|-------------------|
| slide.WithImageSize(*option.Size)                              | è®¾ç½®ä¸»å›¾å°ºå¯¸ï¼Œé»˜è®¤ 300x220 |
| slide.WithImageAlpha(float32)                                  | è®¾ç½®ä¸»å›¾é€æ˜åº¦           |
| slide.WithRangeGraphSize(val option.RangeVal)                  | è®¾ç½®å›¾å½¢éšæœºå°ºå¯¸èŒƒå›´        |
| slide.WithRangeGraphAnglePos([]option.RangeVal)                | è®¾ç½®å›¾å½¢éšæœºè§’åº¦èŒƒå›´        |
| slide.WithGenGraphNumber(val int)                              | è®¾ç½®å›¾å½¢ä¸ªæ•°            |
| slide.WithEnableGraphVerticalRandom(val bool)                  | è®¾ç½®å›¾å½¢æ°´å¹³æ–¹å‘æ˜¯å¦éšæœºæ’åº    |
| slide.WithRangeDeadZoneDirections(val []DeadZoneDirectionType) | è®¾ç½®è´´å›¾ç›²åŒº            |


### è®¾ç½®èµ„æº
> builder.SetResources(slide.WithXxx(), ...)

| Options                                       | Desc     |
|-----------------------------------------------|----------|
| slide.WithBackgrounds([]image.Image)          | è®¾ç½®ä¸»å›¾èƒŒæ™¯   |
| slide.WithGraphImages(images []*GraphImage)   | è®¾ç½®è´´å›¾çš„å›¾å½¢  |


### éªŒè¯ç æ•°æ®
> captData, err := capt.Generate()

| Method                                   | Desc        |
|------------------------------------------|-------------|
| GetData() *Block                         | è·å–å½“å‰æ ¡éªŒçš„ä¿¡æ¯   |
| GetMasterImage() imagedata.JPEGImageData | è·å–ä¸»å›¾        |
| GetTileImage() imagedata.PNGImageData    | è·å–ç¼©ç•¥å›¾       |


### éªŒè¯ç æ ¡éªŒ
> ok := slide.CheckData(srcX, srcY, X, Y, paddingValue)

| Params       | Desc            |
|--------------|-----------------|
| srcX         | ç”¨æˆ·äº¤äº’çš„ X å€¼       |
| srcY         | ç”¨æˆ·äº¤äº’çš„ Y å€¼       |
| X            | éªŒè¯ç æ ¡éªŒçš„ X å€¼      |
| Y            | éªŒè¯ç æ ¡éªŒçš„ Y å€¼      |
| paddingValue | æ§åˆ¶è¯¯å·®å€¼           |

<br/>

### æ³¨æ„äº‹é¡¹

- æ‹¼å›¾å—çš„å›¾åƒèµ„æºï¼ˆ`OverlayImage`, `ShadowImage`, `MaskImage`ï¼‰å¿…é¡»æœ‰æ•ˆï¼Œå¦åˆ™ä¼šè§¦å‘ `ImageTypeErr`, `ShadowImageTypeErr` æˆ– `MaskImageTypeErr`ã€‚
- èƒŒæ™¯å›¾åƒä¸èƒ½ä¸ºç©ºï¼Œå¦åˆ™ä¼šè§¦å‘ `EmptyBackgroundImageErr`ã€‚
- åŸºæœ¬æ¨¡å¼ä¸‹ï¼Œæ‹¼å›¾å—çš„ Y åæ ‡å›ºå®šï¼›æ‹–æ‹½æ¨¡å¼ä¸‹ï¼ŒY åæ ‡å¯æ ¹æ® `rangeDeadZoneDirections` éšæœºåˆ†å¸ƒã€‚
- æ‹–æ‹½æ¨¡å¼é€‚åˆéœ€è¦æ›´é«˜äº¤äº’è‡ªç”±åº¦çš„åœºæ™¯ï¼Œä½†å¯èƒ½å¢åŠ ç”¨æˆ·æ“ä½œæ—¶é—´ã€‚

<br />


## ğŸ––  æ—‹è½¬éªŒè¯ç ï¼ˆRotateï¼‰

æ—‹è½¬éªŒè¯ç è¦æ±‚ç”¨æˆ·æ—‹è½¬ç¼©ç•¥å›¾ä½¿å…¶ä¸ä¸»å›¾åƒçš„è§’åº¦å¯¹é½ï¼Œé€‚åˆéœ€è¦ç›´è§‚äº¤äº’çš„åœºæ™¯ã€‚

### å·¥ä½œåŸç†

1. **ç”Ÿæˆä¸»å›¾åƒ**ï¼ˆ`masterImage`ï¼‰ï¼šåŒ…å«æ—‹è½¬åçš„èƒŒæ™¯å›¾åƒï¼Œé€šå¸¸ä¸º PNG æ ¼å¼ã€‚
2. **ç”Ÿæˆç¼©ç•¥å›¾**ï¼ˆ`thumbImage`ï¼‰ï¼šä»ä¸»å›¾åƒè£å‰ªå¹¶åº”ç”¨åœ†å½¢è£å‰ªå’Œé€æ˜åº¦æ•ˆæœï¼Œé€šå¸¸ä¸º PNG æ ¼å¼ã€‚
3. **ç”¨æˆ·äº¤äº’**ï¼šç”¨æˆ·æ—‹è½¬ç¼©ç•¥å›¾åˆ°ç›®æ ‡è§’åº¦ï¼ˆ`block.Angle`ï¼‰ï¼Œå‰ç«¯æ•è·æ—‹è½¬è§’åº¦ã€‚
4. **éªŒè¯é€»è¾‘**ï¼šåç«¯æ¯”è¾ƒç”¨æˆ·æ—‹è½¬çš„è§’åº¦ä¸ç›®æ ‡è§’åº¦æ˜¯å¦åŒ¹é…ã€‚

### ä»£ç ç¤ºä¾‹
```go
package main

import (
	"encoding/json"
	"fmt"
	"image"
	"log"
	"io/ioutil"

	"github.com/wenlng/go-captcha/v2/rotate"
	"github.com/wenlng/go-captcha/v2/base/codec"
)

var rotateCapt rotate.Captcha

func init() {
	builder := rotate.NewBuilder()

	// å¯ä»¥ä½¿ç”¨é¢„ç½®çš„ç´ æèµ„æºï¼šhttps://github.com/wenlng/go-captcha-assets
	bgImage, err := loadPng("../resources/bg.png")
	if err != nil {
		log.Fatalln(err)
	}

	bgImage1, err := loadPng("../resources/bg1.png")
	if err != nil {
		log.Fatalln(err)
	}

	builder.SetResources(
		rotate.WithImages([]image.Image{
			bgImage,
			bgImage1,
		}),
	)

	rotateCapt = builder.Make()
}

func main() {
	captData, err := rotateCapt.Generate()
	if err != nil {
		log.Fatalln(err)
	}

	blockData := captData.GetData()
	if blockData == nil {
		log.Fatalln(">>>>> generate err")
	}

	block, _ := json.Marshal(blockData)
	fmt.Println(">>>>>", string(block))

	var mBase64, tBase64 string
	mBase64, err = captData.GetMasterImage().ToBase64()
	if err != nil {
		fmt.Println(err)
	}
	tBase64, err = captData.GetThumbImage().ToBase64()
	if err != nil {
		fmt.Println(err)
	}

	fmt.Println(">>>>> ", mBase64)
	fmt.Println(">>>>> ", tBase64)
	
	//err = captData.GetMasterImage().SaveToFile("../resources/master.png")
	//if err != nil {
	//	fmt.Println(err)
	//}
	//err = captData.GetThumbImage().SaveToFile("../resources/thumb.png")
	//if err != nil {
	//	fmt.Println(err)
	//}
}

func loadPng(p string) (image.Image, error) {
	imgBytes, err := ioutil.ReadFile(p)
	if err != nil {
		return nil, err
	}
	return codec.DecodeByteToPng(imgBytes)
}
```


### åˆ›å»ºå®ä¾‹
- builder.Make() æ—‹è½¬å¼


### é…ç½®é€‰é¡¹
> rotate.NewBuilder(rotate.WithXxx(), ...) æˆ– builder.SetOptions(rotate.WithXxx(), ...)

| Options                                          | Desc              |
|--------------------------------------------------|-------------------|
| rotate.WithImageSquareSize(val int)              | è®¾ç½®ä¸»å›¾å¤§å°ï¼Œé»˜è®¤ 220x220 |
| rotate.WithRangeAnglePos(vals []option.RangeVal) | è®¾ç½®æ ¡éªŒéšæœºè§’åº¦èŒƒå›´        |
| rotate.WithRangeThumbImageSquareSize(val []int)  | è®¾ç½®ç¼©ç•¥å›¾å¤§å°           |
| rotate.WithThumbImageAlpha(val float32)          | è®¾ç½®ç¼©ç•¥å›¾é€æ˜åº¦          |


### è®¾ç½®èµ„æº
> builder.SetResources(rotate.WithXxx(), ...)

| Options                                    | Desc       |
|--------------------------------------------|------------|
| rotate.WithBackgrounds([]image.Image)      | è®¾ç½®ä¸»å›¾å›¾ç‰‡     |


### éªŒè¯ç æ•°æ®
> captData, err := capt.Generate()

| Method                                   | Desc        |
|------------------------------------------|-------------|
| GetData() *Block                         | è·å–å½“å‰æ ¡éªŒçš„ä¿¡æ¯   |
| GetMasterImage() imagedata.JPEGImageData | è·å–ä¸»å›¾        |
| GetTileImage() imagedata.PNGImageData    | è·å–ç¼©ç•¥å›¾       |


### éªŒè¯ç æ ¡éªŒ
> ok := rotate.CheckData(srcAngle, angle, paddingValue)

| Params       | Desc  |
|--------------|-------|
| srcAngle     | ç”¨æˆ·äº¤äº’çš„è§’åº¦ |
| angle        | éªŒè¯ç æ ¡éªŒçš„è§’åº¦ |
| paddingValue | æ§åˆ¶è¯¯å·®å€¼ |

<br/>

### æ³¨æ„äº‹é¡¹

- èƒŒæ™¯å›¾åƒä¸èƒ½ä¸ºç©ºï¼Œå¦åˆ™ä¼šè§¦å‘ `EmptyImageErr`ã€‚
- ç¡®ä¿èƒŒæ™¯å›¾åƒæ˜¯æœ‰æ•ˆçš„ `image.Image` ç±»å‹ï¼Œå¦åˆ™ä¼šè§¦å‘ `ImageTypeErr`ã€‚
- ç¼©ç•¥å›¾ä¼šè‡ªåŠ¨åº”ç”¨åœ†å½¢è£å‰ªæ•ˆæœï¼Œç¡®ä¿èƒŒæ™¯å›¾åƒåˆ†è¾¨ç‡è¶³å¤Ÿä»¥é¿å…æ¨¡ç³Šã€‚

<br/>

## éªŒè¯ç å›¾åƒ

### JPEGImageData

| Method                                                    | Desc                                                                                                                       |
|-----------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------|
| Get() image.Image                                         | <span style='padding: 0 10px'></span>è·å–åŸå›¾åƒ                                                                                 |
| ToBytes() ([]byte, error)                                 | <span style='padding: 0 10px'></span>è½¬ä¸ºå­—èŠ‚æ•°ç»„                                                                                |
| ToBytesWithQuality(imageQuality int) ([]byte, error)      | æŒ‡å®šæ¸…æ™°åº¦è½¬ä¸ºå­—èŠ‚æ•°ç»„                                                                                                                |
| ToBase64() (string, error)                                | <span style='padding: 0 10px'></span>è½¬ä¸º Base64 å­—ç¬¦ä¸²ï¼Œå¸¦ <span style='color:#ed4630;'>"data:image/jpeg;base64,"</span> å‰ç¼€      |
| ToBase64Data() (string, error)                            | <span style='padding: 0 10px'></span>è½¬ä¸º Base64 å­—ç¬¦ä¸²                                                                         |
| ToBase64WithQuality(imageQuality int)  (string, error)    | <span style='padding: 0 10px'></span>æŒ‡å®šæ¸…æ™°åº¦è½¬ä¸º Base64 å­—ç¬¦ä¸²ï¼Œå¸¦ <span style='color:#ed4630;'>"data:image/jpeg;base64,"</span> å‰ç¼€ |
| ToBase64DataWithQuality(imageQuality int) (string, error) | <span style='padding: 0 10px'></span>æŒ‡å®šæ¸…æ™°åº¦è½¬ä¸º Base64 å­—ç¬¦ä¸²                                                                    |
| SaveToFile(filepath string, quality int) error            | <span style='padding: 0 10px'></span>ä¿å­˜ JPEG åˆ°æ–‡ä»¶                                                                           |


### PNGImageData

| Method                                    | Desc                                                                                                                 |
|-------------------------------------------|----------------------------------------------------------------------------------------------------------------------|
| Get() image.Image                         | <span style='padding: 0 10px'></span>è·å–åŸå›¾åƒ                                                                           |
| ToBytes() ([]byte, error)                 | <span style='padding: 0 10px'></span>è½¬ä¸ºå­—èŠ‚æ•°ç»„                                                                          |
| ToBase64() (string, error)                | <span style='padding: 0 10px'></span>è½¬ä¸º Base64 å­—ç¬¦ä¸²ï¼Œå¸¦ <span style='color:#ed4630;'>"data:image/png;base64,"</span> å‰ç¼€ |
| ToBase64Data() (string, error)            | <span style='padding: 0 10px'></span>è½¬ä¸º Base64 å­—ç¬¦ä¸²                                                                   |
| SaveToFile(filepath string) error         | <span style='padding: 0 10px'></span>ä¿å­˜ åˆ°æ–‡ä»¶                                                                          |


<br/>

## éªŒè¯æ¨¡å—
- [x] æ–‡å­—ç‚¹é€‰
- [x] å›¾å½¢ç‚¹é€‰
- [x] æ»‘åŠ¨
- [x] æ‹–æ‹½
- [x] æ—‹è½¬
- [ ] æŠ›ç‰©çº¿
- [ ] çœ‹å›¾é€‰æ‹©
- [ ] ç‰©å“è¾¨è®¤
- [ ] ...

## æ‰©å±•&å¢å¼º
- [x] åŸºæœ¬éªŒè¯
- [ ] è¡Œä¸ºæ£€æµ‹å¢å¼º
- [ ] å…¶ä»–å› ç´ å¢å¼º
- [ ] å¤šä»»åŠ¡ç”Ÿæˆæ¨¡å¼
- [ ] ...

## è¯­è¨€æ”¯æŒ
- [x] Golang
- [ ] NodeJs
- [ ] Rust
- [ ] Python
- [ ] Java
- [ ] PHP
- [ ] ...

## Web
- [x] JavaScript
- [x] Vue
- [x] React
- [x] Angular
- [x] Svelte
- [x] Solid
- [ ] ...

## App
- [x] UniApp
- [ ] WX-Applet
- [ ] React Native App
- [ ] Flutter App
- [ ] Android App
- [ ] IOS App
- ...

## Deployment Service
- [x] Binary Program
- [x] Docker Image
- ...

<br/>

## èµåŠ©ä¸€ä¸‹

<p>å¦‚æœè§‰å¾—é¡¹ç›®æœ‰å¸®åŠ©ï¼Œå¯ä»¥è¯·ä½œè€…å–æ¯å’–å•¡ ğŸ¹</p>
<div>
<a href="http://witkeycode.com/sponsor" target="_blank"><img src="http://47.104.180.148/payment-code/wxpay.png" alt="Buy Me A Coffee" style="width: 217px !important;" ></a>
<a href="http://witkeycode.com/sponsor" target="_blank"><img src="http://47.104.180.148/payment-code/alipay.png" alt="Buy Me A Coffee" style="width: 217px !important;" ></a>
</div>

<br/>

## LICENSE
Go Captcha source code is licensed under the Apache Licence, Version 2.0 [http://www.apache.org/licenses/LICENSE-2.0.html](http://www.apache.org/licenses/LICENSE-2.0.html)

<br/>

